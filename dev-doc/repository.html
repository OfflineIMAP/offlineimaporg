

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>offlineimap.repository – Email repositories &mdash; OfflineImap v6.3.4 documentation</title>
    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '6.3.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="OfflineImap v6.3.4 documentation" href="index.html" />
    <link rel="next" title="offlineimap.ui – A flexible logging system" href="ui.html" />
    <link rel="prev" title="Welcome to offlineimaps‘s documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ui.html" title="offlineimap.ui – A flexible logging system"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to offlineimaps‘s documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">OfflineImap v6.3.4 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="offlineimap-repository-email-repositories">
<h1><tt class="xref py py-mod docutils literal"><span class="pre">offlineimap.repository</span></tt> &#8211; Email repositories<a class="headerlink" href="#offlineimap-repository-email-repositories" title="Permalink to this headline">¶</a></h1>
<p>A derivative of class
<a class="reference internal" href="#offlineimap.repository.Base.BaseRepository" title="offlineimap.repository.Base.BaseRepository"><tt class="xref py py-class docutils literal"><span class="pre">Base.BaseRepository</span></tt></a> represents an email
repository depending on the type of storage, possible options are:</p>
<blockquote>
<ul class="simple">
<li><a class="reference internal" href="#offlineimap.repository.IMAPRepository" title="offlineimap.repository.IMAPRepository"><tt class="xref py py-class docutils literal"><span class="pre">IMAPRepository</span></tt></a>,</li>
<li><a class="reference internal" href="#offlineimap.repository.MappedIMAPRepository" title="offlineimap.repository.MappedIMAPRepository"><tt class="xref py py-class docutils literal"><span class="pre">MappedIMAPRepository</span></tt></a></li>
<li><a class="reference internal" href="#offlineimap.repository.GmailRepository" title="offlineimap.repository.GmailRepository"><tt class="xref py py-class docutils literal"><span class="pre">GmailRepository</span></tt></a>,</li>
<li><a class="reference internal" href="#offlineimap.repository.MaildirRepository" title="offlineimap.repository.MaildirRepository"><tt class="xref py py-class docutils literal"><span class="pre">MaildirRepository</span></tt></a>, or</li>
<li><a class="reference internal" href="#offlineimap.repository.LocalStatusRepository" title="offlineimap.repository.LocalStatusRepository"><tt class="xref py py-class docutils literal"><span class="pre">LocalStatusRepository</span></tt></a>.</li>
</ul>
</blockquote>
<p>Which class you need depends on your account
configuration. The helper class <a class="reference internal" href="#offlineimap.repository.Repository" title="offlineimap.repository.Repository"><tt class="xref py py-class docutils literal"><span class="pre">offlineimap.repository.Repository</span></tt></a> is
an <em>autoloader</em>, that returns the correct class depending
on your configuration. So when you want to instanciate a new
<tt class="xref py py-mod docutils literal"><span class="pre">offlineimap.repository</span></tt>, you will mostly do it through this class.</p>
<dl class="class">
<dt id="offlineimap.repository.Repository">
<em class="property">class </em><tt class="descname">Repository</tt><big>(</big><em>account</em>, <em>reqtype</em><big>)</big><a class="headerlink" href="#offlineimap.repository.Repository" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract class that returns the correct Repository type
instance based on &#8216;account&#8217; and &#8216;reqtype&#8217;, e.g.  a
class:<cite>ImapRepository</cite> instance.</p>
<p>Load the correct Repository type and return that. The
__init__ of the corresponding Repository class will be
executed instead of this stub</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>account</strong> &#8211; <tt class="xref py py-class docutils literal"><span class="pre">Account</span></tt></li>
<li><strong>regtype</strong> &#8211; &#8216;remote&#8217;, &#8216;local&#8217;, or &#8216;status&#8217;</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="offlineimap-repository-base-baserepository-representation-of-a-mail-repository">
<h1><tt class="xref py py-mod docutils literal"><span class="pre">offlineimap.repository.Base.BaseRepository</span></tt> &#8211; Representation of a mail repository<a class="headerlink" href="#offlineimap-repository-base-baserepository-representation-of-a-mail-repository" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="offlineimap.repository.Base.BaseRepository">
<em class="property">class </em><tt class="descname">BaseRepository</tt><big>(</big><em>reposname</em>, <em>account</em><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.connect">
<tt class="descname">connect</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Establish a connection to the remote, if necessary.  This exists
so that IMAP connections can all be established up front, gathering
passwords as needed.  It was added in order to support the
error recovery &#8211; we need to connect first outside of the error
trap in order to validate the password, and that&#8217;s the point of
this function.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.deletefolder">
<tt class="descname">deletefolder</tt><big>(</big><em>foldername</em><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.deletefolder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.dropconnections">
<tt class="descname">dropconnections</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.dropconnections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.forgetfolders">
<tt class="descname">forgetfolders</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.forgetfolders" title="Permalink to this definition">¶</a></dt>
<dd><p>Forgets the cached list of folders, if any.  Useful to run
after a sync run.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.getaccount">
<tt class="descname">getaccount</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.getaccount" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.getaccountname">
<tt class="descname">getaccountname</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.getaccountname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.getconf">
<tt class="descname">getconf</tt><big>(</big><em>option</em>, <em>default=&lt;function CustomConfigDefault at 0x261d230&gt;</em><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.getconf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.getconfboolean">
<tt class="descname">getconfboolean</tt><big>(</big><em>option</em>, <em>default=&lt;function CustomConfigDefault at 0x261d230&gt;</em><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.getconfboolean" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.getconffloat">
<tt class="descname">getconffloat</tt><big>(</big><em>option</em>, <em>default=&lt;function CustomConfigDefault at 0x261d230&gt;</em><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.getconffloat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.getconfig">
<tt class="descname">getconfig</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.getconfig" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.getconfint">
<tt class="descname">getconfint</tt><big>(</big><em>option</em>, <em>default=&lt;function CustomConfigDefault at 0x261d230&gt;</em><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.getconfint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.getfolder">
<tt class="descname">getfolder</tt><big>(</big><em>foldername</em><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.getfolder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.getfolders">
<tt class="descname">getfolders</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.getfolders" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of ALL folders on this server.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.getlocaleval">
<tt class="descname">getlocaleval</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.getlocaleval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.getmapdir">
<tt class="descname">getmapdir</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.getmapdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.getname">
<tt class="descname">getname</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.getname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.getsection">
<tt class="descname">getsection</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.getsection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.getsep">
<tt class="descname">getsep</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.getsep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.getuiddir">
<tt class="descname">getuiddir</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.getuiddir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.holdordropconnections">
<tt class="descname">holdordropconnections</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.holdordropconnections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.makefolder">
<tt class="descname">makefolder</tt><big>(</big><em>foldername</em><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.makefolder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.restore_atime">
<tt class="descname">restore_atime</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.restore_atime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.startkeepalive">
<tt class="descname">startkeepalive</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.startkeepalive" title="Permalink to this definition">¶</a></dt>
<dd><p>The default implementation will do nothing.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.stopkeepalive">
<tt class="descname">stopkeepalive</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.stopkeepalive" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop keep alive, but don&#8217;t bother waiting
for the threads to terminate.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.repository.Base.BaseRepository.syncfoldersto">
<tt class="descname">syncfoldersto</tt><big>(</big><em>dest</em>, <em>status</em><big>)</big><a class="headerlink" href="#offlineimap.repository.Base.BaseRepository.syncfoldersto" title="Permalink to this definition">¶</a></dt>
<dd><p>Syncs the folders in this repository to those in dest.
It does NOT sync the contents of those folders.</p>
<p>Whenever makefolder() is called, also call makefolder() on status
folder.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="offlineimap.repository.IMAPRepository">
<em class="property">class </em><tt class="descname">IMAPRepository</tt><big>(</big><em>reposname</em>, <em>account</em><big>)</big><a class="headerlink" href="#offlineimap.repository.IMAPRepository" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize an IMAPRepository object.</p>
</dd></dl>

<dl class="class">
<dt id="offlineimap.repository.MappedIMAPRepository">
<em class="property">class </em><tt class="descname">MappedIMAPRepository</tt><big>(</big><em>reposname</em>, <em>account</em><big>)</big><a class="headerlink" href="#offlineimap.repository.MappedIMAPRepository" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize an IMAPRepository object.</p>
</dd></dl>

<dl class="class">
<dt id="offlineimap.repository.GmailRepository">
<em class="property">class </em><tt class="descname">GmailRepository</tt><big>(</big><em>reposname</em>, <em>account</em><big>)</big><a class="headerlink" href="#offlineimap.repository.GmailRepository" title="Permalink to this definition">¶</a></dt>
<dd><p>Gmail IMAP repository.</p>
<p>Falls back to hard-coded gmail host name and port, if none were specified:
<a class="reference external" href="http://mail.google.com/support/bin/answer.py?answer=78799&amp;topic=12814">http://mail.google.com/support/bin/answer.py?answer=78799&amp;topic=12814</a></p>
<p>Initialize a GmailRepository object.</p>
</dd></dl>

<dl class="class">
<dt id="offlineimap.repository.MaildirRepository">
<em class="property">class </em><tt class="descname">MaildirRepository</tt><big>(</big><em>reposname</em>, <em>account</em><big>)</big><a class="headerlink" href="#offlineimap.repository.MaildirRepository" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a MaildirRepository object.  Takes a path name
to the directory holding all the Maildir directories.</p>
</dd></dl>

<dl class="class">
<dt id="offlineimap.repository.LocalStatusRepository">
<em class="property">class </em><tt class="descname">LocalStatusRepository</tt><big>(</big><em>reposname</em>, <em>account</em><big>)</big><a class="headerlink" href="#offlineimap.repository.LocalStatusRepository" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="offlineimap-folder-basic-representation-of-a-local-or-remote-mail-folder">
<h1><tt class="xref py py-mod docutils literal"><span class="pre">offlineimap.folder</span></tt> &#8211; Basic representation of a local or remote Mail folder<a class="headerlink" href="#offlineimap-folder-basic-representation-of-a-local-or-remote-mail-folder" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="offlineimap.folder.Base.BaseFolder">
<em class="property">class </em><tt class="descname">BaseFolder</tt><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.addmessageflags">
<tt class="descname">addmessageflags</tt><big>(</big><em>uid</em>, <em>flags</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.addmessageflags" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the specified flags to the message&#8217;s flag set.  If a given
flag is already present, it will not be duplicated.
:param flags: A set() of flags</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.addmessagesflags">
<tt class="descname">addmessagesflags</tt><big>(</big><em>uidlist</em>, <em>flags</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.addmessagesflags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.cachemessagelist">
<tt class="descname">cachemessagelist</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.cachemessagelist" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the message list from disk or network and stores it in
memory for later use.  This list will not be re-read from disk or
memory unless this function is called again.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.copymessageto">
<tt class="descname">copymessageto</tt><big>(</big><em>uid</em>, <em>dstfolder</em>, <em>statusfolder</em>, <em>register=1</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.copymessageto" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies a message from self to dst if needed, updating the status</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>uid</strong> &#8211; uid of the message to be copied.</li>
<li><strong>dstfolder</strong> &#8211; A BaseFolder-derived instance</li>
<li><strong>statusfolder</strong> &#8211; A LocalStatusFolder instance</li>
<li><strong>register</strong> &#8211; whether we should register a new thread.&#8221;</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Nothing on success, or raises an Exception.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.deletemessage">
<tt class="descname">deletemessage</tt><big>(</big><em>uid</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.deletemessage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.deletemessageflags">
<tt class="descname">deletemessageflags</tt><big>(</big><em>uid</em>, <em>flags</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.deletemessageflags" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes each flag given from the message&#8217;s flag set.  If a given
flag is already removed, no action will be taken for that flag.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.deletemessages">
<tt class="descname">deletemessages</tt><big>(</big><em>uidlist</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.deletemessages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.deletemessagesflags">
<tt class="descname">deletemessagesflags</tt><big>(</big><em>uidlist</em>, <em>flags</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.deletemessagesflags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.getcopyinstancelimit">
<tt class="descname">getcopyinstancelimit</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.getcopyinstancelimit" title="Permalink to this definition">¶</a></dt>
<dd><p>For threading folders, returns the instancelimitname for
InstanceLimitedThreads.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.getfolderbasename">
<tt class="descname">getfolderbasename</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.getfolderbasename" title="Permalink to this definition">¶</a></dt>
<dd><p>Return base file name of file to store Status/UID info in</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.getfullname">
<tt class="descname">getfullname</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.getfullname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.getmessage">
<tt class="descname">getmessage</tt><big>(</big><em>uid</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.getmessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the content of the specified message.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.getmessagecount">
<tt class="descname">getmessagecount</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.getmessagecount" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the number of messages.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.getmessageflags">
<tt class="descname">getmessageflags</tt><big>(</big><em>uid</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.getmessageflags" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the flags for the specified message.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.getmessagelist">
<tt class="descname">getmessagelist</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.getmessagelist" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the current message list.
You must call cachemessagelist() before calling this function!</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.getmessagetime">
<tt class="descname">getmessagetime</tt><big>(</big><em>uid</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.getmessagetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the received time for the specified message.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.getmessageuidlist">
<tt class="descname">getmessageuidlist</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.getmessageuidlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a list of UIDs.
You may have to call cachemessagelist() before calling this function!</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.getname">
<tt class="descname">getname</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.getname" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.getrepository">
<tt class="descname">getrepository</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.getrepository" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the repository object that this folder is within.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.getroot">
<tt class="descname">getroot</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.getroot" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the root of the folder, in a folder-specific fashion.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.getsaveduidvalidity">
<tt class="descname">getsaveduidvalidity</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.getsaveduidvalidity" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.getsep">
<tt class="descname">getsep</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.getsep" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the separator for this folder type.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.getuidvalidity">
<tt class="descname">getuidvalidity</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.getuidvalidity" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.getvisiblename">
<tt class="descname">getvisiblename</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.getvisiblename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.isuidvalidityok">
<tt class="descname">isuidvalidityok</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.isuidvalidityok" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the cached UID match the real UID</p>
<p>If required it caches the UID. In this case the function is not
threadsafe. So don&#8217;t attempt to call it from concurrent threads.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.savemessage">
<tt class="descname">savemessage</tt><big>(</big><em>uid</em>, <em>content</em>, <em>flags</em>, <em>rtime</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.savemessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a new message, with the specified uid.</p>
<dl class="docutils">
<dt>If the uid is &lt; 0: The backend should assign a new uid and</dt>
<dd><p class="first">return it.  In case it cannot assign a new uid, it returns
the negative uid passed in WITHOUT saving the message.</p>
<p>If the backend CAN assign a new uid, but cannot find out what
this UID is (as is the case with some IMAP servers), it
returns 0 but DOES save the message.</p>
<p class="last">IMAP backend should be the only one that can assign a new
uid.</p>
</dd>
<dt>If the uid is &gt; 0, the backend should set the uid to this, if it can.</dt>
<dd>If it cannot set the uid to that, it will save it anyway.
It will return the uid assigned in any case.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.savemessageflags">
<tt class="descname">savemessageflags</tt><big>(</big><em>uid</em>, <em>flags</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.savemessageflags" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the specified message&#8217;s flags to the given set.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.saveuidvalidity">
<tt class="descname">saveuidvalidity</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.saveuidvalidity" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the UID value of the folder to the status</p>
<p>This function is not threadsafe, so don&#8217;t attempt to call it
from concurrent threads.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.storesmessages">
<tt class="descname">storesmessages</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.storesmessages" title="Permalink to this definition">¶</a></dt>
<dd><p>Should be true for any backend that actually saves message bodies.
(Almost all of them).  False for the LocalStatus backend.  Saves
us from having to slurp up messages just for localstatus purposes.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.suggeststhreads">
<tt class="descname">suggeststhreads</tt><big>(</big><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.suggeststhreads" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if this folder suggests using threads for actions;
false otherwise.  Probably only IMAP will return true.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.syncmessagesto">
<tt class="descname">syncmessagesto</tt><big>(</big><em>dstfolder</em>, <em>statusfolder</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.syncmessagesto" title="Permalink to this definition">¶</a></dt>
<dd><p>Syncs messages in this folder to the destination dstfolder.</p>
<p>This is the high level entry for syncing messages in one direction.
Syncsteps are:</p>
<dl class="docutils">
<dt>Pass1: Copy locally existing messages</dt>
<dd>Copy messages in self, but not statusfolder to dstfolder if not
already in dstfolder. dstfolder might assign a new UID (e.g. if
uploading to IMAP). Update statusfolder.</dd>
<dt>Pass2: Remove locally deleted messages</dt>
<dd><p class="first">Get all UIDS in statusfolder but not self. These are messages
that were deleted in &#8216;self&#8217;. Delete those from dstfolder and
statusfolder.</p>
<p class="last">After this pass, the message lists should be identical wrt the
uids present (except for potential negative uids that couldn&#8217;t
be placed anywhere).</p>
</dd>
<dt>Pass3: Synchronize flag changes </dt>
<dd>Compare flag mismatches in self with those in statusfolder. If
msg has a valid UID and exists on dstfolder (has not e.g. been
deleted there), sync the flag change to both dstfolder and
statusfolder.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dstfolder</strong> &#8211; Folderinstance to sync the msgs to.</li>
<li><strong>statusfolder</strong> &#8211; LocalStatus instance to sync against.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.syncmessagesto_copy">
<tt class="descname">syncmessagesto_copy</tt><big>(</big><em>dstfolder</em>, <em>statusfolder</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.syncmessagesto_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass1: Copy locally existing messages not on the other side</p>
<p>This will copy messages to dstfolder that exist locally but are
not in the statusfolder yet. The strategy is:</p>
<ol class="arabic simple">
<li>Look for messages present in self but not in statusfolder.</li>
<li>invoke copymessageto() on those which:
- If dstfolder doesn&#8217;t have it yet, add them to dstfolder.
- Update statusfolder</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.syncmessagesto_delete">
<tt class="descname">syncmessagesto_delete</tt><big>(</big><em>dstfolder</em>, <em>statusfolder</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.syncmessagesto_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass 2: Remove locally deleted messages on dst</p>
<p>Get all UIDS in statusfolder but not self. These are messages
that were deleted in &#8216;self&#8217;. Delete those from dstfolder and
statusfolder.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.syncmessagesto_flags">
<tt class="descname">syncmessagesto_flags</tt><big>(</big><em>dstfolder</em>, <em>statusfolder</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.syncmessagesto_flags" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass 3: Flag synchronization</p>
<p>Compare flag mismatches in self with those in statusfolder. If
msg has a valid UID and exists on dstfolder (has not e.g. been
deleted there), sync the flag change to both dstfolder and
statusfolder.</p>
</dd></dl>

<dl class="method">
<dt id="offlineimap.folder.Base.BaseFolder.uidexists">
<tt class="descname">uidexists</tt><big>(</big><em>uid</em><big>)</big><a class="headerlink" href="#offlineimap.folder.Base.BaseFolder.uidexists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if uid exists</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">offlineimap.repository</span></tt> &#8211; Email repositories</a></li>
<li><a class="reference internal" href="#offlineimap-repository-base-baserepository-representation-of-a-mail-repository"><tt class="docutils literal"><span class="pre">offlineimap.repository.Base.BaseRepository</span></tt> &#8211; Representation of a mail repository</a></li>
<li><a class="reference internal" href="#offlineimap-folder-basic-representation-of-a-local-or-remote-mail-folder"><tt class="docutils literal"><span class="pre">offlineimap.folder</span></tt> &#8211; Basic representation of a local or remote Mail folder</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to <tt class="docutils literal docutils literal docutils literal"><span class="pre">offlineimaps</span></tt>&#8216;s documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ui.html"
                        title="next chapter"><tt class="docutils literal docutils literal"><span class="pre">offlineimap.ui</span></tt> &#8211; A flexible logging system</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="sources/repository.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ui.html" title="offlineimap.ui – A flexible logging system"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to offlineimaps‘s documentation"
             >previous</a> |</li>
        <li><a href="index.html">OfflineImap v6.3.4 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2002-2010, John Goerzen.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.1.
    </div>
  </body>
</html>